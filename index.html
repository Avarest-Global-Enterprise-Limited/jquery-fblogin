<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Jquery-fblogin by ryandrewjohnson</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script src="javascripts/iframeResizer.contentWindow.min.js"></script>
  </head>
  <body>
    <div class="wrapper">

      <header>
        <ul>
          <li><a href="https://github.com/ryandrewjohnson/jquery-fblogin/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/ryandrewjohnson/jquery-fblogin/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/ryandrewjohnson/jquery-fblogin">View On <strong>GitHub</strong></a></li>
        </ul>
        <h3>Select a list of Facebook permissions from below and click the login button!</h3>
        <p><i>Note: Keep your console open to view progress and error callbacks.</i></p>
        <p class="view">
          <a href="https://github.com/ryandrewjohnson/jquery-fblogin" target="_blank">For full documentation view project on GitHub</a> |
          <a href="privacy.html" target="_blank">Privacy Policy</a>
        </p>
        <!-- FACEBOOK -->
        <a href="#" class="sc-btn sc--flat sc--facebook" id="login">
          <span class="sc-icon">
              <svg viewBox="0 0 33 33" width="25" height="25" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" ><g><path d="M 17.996,32L 12,32 L 12,16 l-4,0 l0-5.514 l 4-0.002l-0.006-3.248C 11.993,2.737, 13.213,0, 18.512,0l 4.412,0   l0,5.515 l-2.757,0 c-2.063,0-2.163,0.77-2.163,2.209l-0.008,2.76l 4.959,0 l-0.585,5.514L 18,16L 17.996,32z"></path></g></svg>
          </span>
          <span class="sc-text">
              Login with Facebook
          </span>
        </a>
      </header>

      <h3 class="permissions-title">Response for permisssions:</h3>
      <p class="permissions-selected"></p>

      <pre>
        <button class="reset-btn">Reset</button>
        <code class="success-callback" data-default="// on success Facebook data will show up here.">
        // on success Facebook data will show up here.
        </code>
      </pre>

      <div class="permissions-container">
        <h3>Extended Profile Properties<a href="#0" class="toggle-check" data-check="check all" data-uncheck="uncheck all">check all</a></h3>
        <ul class="permissions-list">
          <li>
            <label>
              <input type="checkbox" value="user_about_me"> user_about_me
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="user_activities"> user_activities
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="user_birthday"> user_birthday
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="user_education_history"> user_education_history
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="user_events"> user_events
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="user_groups"> user_groups
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="user_hometown"> user_hometown
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="user_interests"> user_interests
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="user_likes"> user_likes
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="user_location"> user_location
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="user_photos"> user_photos
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="user_relationships"> user_relationships
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="user_relationship_details"> user_relationship_details
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="user_religion_politics"> user_religion_politics
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="user_status"> user_status
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="user_tagged_places"> user_tagged_places
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="user_videos"> user_videos
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="user_website"> user_website
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="user_work_history"> user_work_history
            </label>
          </li>
        </ul>
      </div>

      <div class="permissions-container">
        <h3>Extended Permissions - Read<a href="#0" class="toggle-check" data-check="check all" data-uncheck="uncheck all">check all</a></h3>
        <ul class="permissions-list">
          <li>
            <label>
              <input type="checkbox" value="read_friendlists"> read_friendlists
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="read_insights"> read_insights
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="read_mailbox"> read_mailbox
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="read_stream"> read_stream
            </label>
          </li>
        </ul>
      </div>

      <div class="permissions-container">
        <h3>Extended Permissions - Publish<a href="#0" class="toggle-check" data-check="check all" data-uncheck="uncheck all">check all</a></h3>
        <ul class="permissions-list">
          <li>
            <label>
              <input type="checkbox" value="manage_notifications"> manage_notifications
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="publish_actions"> publish_actions
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="rsvp_event"> rsvp_event
            </label>
          </li>
        </ul>
      </div>

      <div class="permissions-container">
        <h3>Open Graph Permissions<a href="#0" class="toggle-check" data-check="check all" data-uncheck="uncheck all">check all</a></h3>
        <ul class="permissions-list">
          <li>
            <label>
              <input type="checkbox" value="publish_actions"> publish_actions
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="user_actions.books"> user_actions.books
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="user_actions.fitness"> user_actions.fitness
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="user_actions.music"> user_actions.music
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="user_actions.news"> user_actions.news
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="user_actions.news"> user_actions.news
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="user_actions.video"> user_actions.video
            </label>
          </li>
        </ul>
      </div>

      <div class="permissions-container">
        <h3>Pages<a href="#0" class="toggle-check" data-check="check all" data-uncheck="uncheck all">check all</a></h3>
        <a href="#0" class="toggle-check" data-check="check all" data-uncheck="uncheck all">check all</a>
        <ul class="permissions-list">
          <li>
            <label>
              <input type="checkbox" value="manage_pages"> manage_pages
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" value="read_page_mailboxes"> read_page_mailboxes
            </label>
          </li>
        </ul>
      </div>
    </div>
      <script>
        (function(d, s, id){
           var js, fjs = d.getElementsByTagName(s)[0];
           if (d.getElementById(id)) {return;}
           js = d.createElement(s); js.id = id;
           js.src = "//connect.facebook.net/en_US/sdk.js";
           fjs.parentNode.insertBefore(js, fjs);
         }(document, 'script', 'facebook-jssdk'));
      </script>
      <script src="javascripts/scale.fix.js"></script>
      <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
      <script src="//cdn.rawgit.com/ryandrewjohnson/jquery-fblogin/master/dist/jquery.fblogin.min.js"></script>
      <script>
        $(function () {

            var $successCallback = $('.success-callback');

            $('.permissions-container').on('click', 'input[type="checkbox"]', function () {
              $('.permissions-selected').text(getPermissions());
            });

            function getPermissions() {
              var permisssions = '';

              $('.permissions-container input[type="checkbox"]:checked').each(function () {
                permisssions += $(this).val() + ',';
              });

              permisssions = permisssions.substring(0, (permisssions.length - 1));

              return permisssions;
            }

            $('.reset-btn').click(function () {
              $('.permissions-container input[type="checkbox"]').attr('checked', false);
              $('.permissions-selected').text('');
              $successCallback.html($successCallback.data('default'));
              $('.toggle-check').text($('.toggle-check').data('check'));
            });

            $('.toggle-check').click(function () {
              var $checkboxes = $(this).parent('h3').siblings('.permissions-list').find('input[type="checkbox"]');
              if($(this).text() === $(this).data('check')) {
                $(this).text($(this).data('uncheck'));
                $checkboxes.prop('checked', true);
              }
              else {
                $(this).text($(this).data('check'));
                $checkboxes.prop('checked', false);
              }
            });

            $('#login').click(function () {

                var fbPermissions = getPermissions();

                $.fblogin({
                    fbId: '117555658344702',
                    permissions: fbPermissions,
                    // fields: 'first_name,last_name,locale,email,birthday',
                })
                .fail(function (error) {
                  console.log('error callback', error);
                })
                .progress(function (data) {
                    console.log('progress', data);
                })
                .done(function (data) {
                    console.log('done everything', data);
                    $('.success-callback').html(JSON.stringify(data, null, '\t'));
                });
            });


        });
    </script>

  </body>
</html>
